"use strict";var c=Object.defineProperty;var h=Object.getOwnPropertyDescriptor;var D=Object.getOwnPropertyNames;var w=Object.prototype.hasOwnProperty;var p=(t,n)=>{for(var o in n)c(t,o,{get:n[o],enumerable:!0})},d=(t,n,o,s)=>{if(n&&typeof n=="object"||typeof n=="function")for(let a of D(n))!w.call(t,a)&&a!==o&&c(t,a,{get:()=>n[a],enumerable:!(s=h(n,a))||s.enumerable});return t};var m=t=>d(c({},"__esModule",{value:!0}),t);var I={};p(I,{default:()=>O});module.exports=m(I);var u=require("child_process"),i=require("@raycast/api"),e="DND Raycast";function r(t){return new Promise((n,o)=>{(0,u.exec)(t,(s,a,f)=>{s?o(s):n({stdout:a,stderr:f})})})}async function x(){let{stdout:t}=await r("shortcuts list");if(!t.split(`
`).map(s=>s.trim()).includes(e)){await(0,i.closeMainWindow)(),await(0,i.showHUD)("Installing Shortcut (this will only happen once)");let s=`${__dirname}/assets/${e}.shortcut`;return await(0,i.open)(s),!1}return!0}async function N(){let{stdout:t}=await r(`echo "status" | shortcuts run "${e}" | cat`);return t!==""}async function l(t){if(!await x())return;await r(`echo "on" | shortcuts run "${e}"`),await N()&&!t&&await(0,i.showHUD)("Do Not Disturb is on")}var O=async({launchContext:t={}})=>{let{suppressHUD:n}=t;await l(n)};

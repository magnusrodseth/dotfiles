"use strict";var e=Object.defineProperty;var w=Object.getOwnPropertyDescriptor;var D=Object.getOwnPropertyNames;var d=Object.prototype.hasOwnProperty;var h=(t,s)=>{for(var i in s)e(t,i,{get:s[i],enumerable:!0})},m=(t,s,i,n)=>{if(s&&typeof s=="object"||typeof s=="function")for(let a of D(s))!d.call(t,a)&&a!==i&&e(t,a,{get:()=>s[a],enumerable:!(n=w(s,a))||n.enumerable});return t};var p=t=>m(e({},"__esModule",{value:!0}),t);var y={};h(y,{default:()=>O});module.exports=p(y);var u=require("child_process"),o=require("@raycast/api"),r="DND Raycast";function c(t){return new Promise((s,i)=>{(0,u.exec)(t,(n,a,f)=>{n?i(n):s({stdout:a,stderr:f})})})}async function N(){let{stdout:t}=await c("shortcuts list");if(!t.split(`
`).map(n=>n.trim()).includes(r)){await(0,o.closeMainWindow)(),await(0,o.showHUD)("Installing Shortcut (this will only happen once)");let n=`${__dirname}/assets/${r}.shortcut`;return await(0,o.open)(n),!1}return!0}async function l(){if(!await N())return;await c(`echo "on" | shortcuts run "${r}"`),await I()&&await(0,o.showHUD)("Do Not Disturb is on")}async function I(){let{stdout:t}=await c(`echo "status" | shortcuts run "${r}" | cat`);return t!==""}var O=async()=>{await l()};

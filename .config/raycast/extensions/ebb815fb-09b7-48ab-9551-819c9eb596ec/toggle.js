"use strict";var c=Object.defineProperty;var d=Object.getOwnPropertyDescriptor;var h=Object.getOwnPropertyNames;var m=Object.prototype.hasOwnProperty;var p=(t,s)=>{for(var a in s)c(t,a,{get:s[a],enumerable:!0})},N=(t,s,a,n)=>{if(s&&typeof s=="object"||typeof s=="function")for(let o of h(s))!m.call(t,o)&&o!==a&&c(t,o,{get:()=>s[o],enumerable:!(n=d(s,o))||n.enumerable});return t};var I=t=>N(c({},"__esModule",{value:!0}),t);var x={};p(x,{default:()=>O});module.exports=I(x);var f=require("child_process"),i=require("@raycast/api"),e="DND Raycast";function r(t){return new Promise((s,a)=>{(0,f.exec)(t,(n,o,D)=>{n?a(n):s({stdout:o,stderr:D})})})}async function u(){let{stdout:t}=await r("shortcuts list");if(!t.split(`
`).map(n=>n.trim()).includes(e)){await(0,i.closeMainWindow)(),await(0,i.showHUD)("Installing Shortcut (this will only happen once)");let n=`${__dirname}/assets/${e}.shortcut`;return await(0,i.open)(n),!1}return!0}async function g(){if(!await u())return;await r(`echo "on" | shortcuts run "${e}"`),await l()&&await(0,i.showHUD)("Do Not Disturb is on")}async function y(){if(!await u())return;await r(`echo "off" | shortcuts run "${e}"`),await l()||await(0,i.showHUD)("Do Not Disturb is off")}async function w(){if(!await u())return;await l()?await y():await g()}async function l(){let{stdout:t}=await r(`echo "status" | shortcuts run "${e}" | cat`);return t!==""}var O=async()=>{await w()};

"use strict";var e=Object.defineProperty;var D=Object.getOwnPropertyDescriptor;var h=Object.getOwnPropertyNames;var w=Object.prototype.hasOwnProperty;var p=(t,s)=>{for(var n in s)e(t,n,{get:s[n],enumerable:!0})},d=(t,s,n,o)=>{if(s&&typeof s=="object"||typeof s=="function")for(let a of h(s))!w.call(t,a)&&a!==n&&e(t,a,{get:()=>s[a],enumerable:!(o=D(s,a))||o.enumerable});return t};var m=t=>d(e({},"__esModule",{value:!0}),t);var O={};p(O,{default:()=>I});module.exports=m(O);var r=require("child_process"),i=require("@raycast/api"),c="DND Raycast";function u(t){return new Promise((s,n)=>{(0,r.exec)(t,(o,a,f)=>{o?n(o):s({stdout:a,stderr:f})})})}async function x(){let{stdout:t}=await u("shortcuts list");if(!t.split(`
`).map(o=>o.trim()).includes(c)){await(0,i.closeMainWindow)(),await(0,i.showHUD)("Installing Shortcut (this will only happen once)");let o=`${__dirname}/assets/${c}.shortcut`;return await(0,i.open)(o),!1}return!0}async function N(){let{stdout:t}=await u(`echo "status" | shortcuts run "${c}" | cat`);return t!==""}async function l(t){if(!await x())return;let n=await N();t||await(0,i.showHUD)(`Do Not Disturb is ${n?"on":"off"}`)}var I=async({launchContext:t={suppressHUD:!1}})=>{let{suppressHUD:s}=t;await l(s)};
